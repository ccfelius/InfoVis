<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Titillium+Web:wght@200&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>
<body id="graph">
  <div id="network"></div>

  <!-- Initialize a select button -->
  <select id="selectButton">

  </select>
  <!-- <svg></svg> -->
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet">
    <script>

       var height = window.innerHeight,
            width = window.innerWidth,
            radius = 5;

        var svg = d3.select("#network").append("svg")
          .attr("height", height)
          .attr("width", width)
          .call(d3.zoom()
            .on("zoom", function () {
            svg.attr("transform", d3.event.transform)
          }))
          .append("g")

        // svg.append("rect").attr("width", "100%").attr("height", "100%").attr("fill", "black");

        svg.append("text").text('REDDIT')
          .attr("x", (175))
          .attr("y",(85))
          .attr("opacity", 0.7)
          .attr("font-family", "Titillium Web")
          .attr("letter-spacing", "0.5em")
          .attr("font-style", "normal")
          .attr("text-anchor", "middle")
          .style("font-size", "40px")
          .style("fill", "white")


        d3.json("communities.csv", function(data) {

          // List of groups (here I have one group per column)
          var allCommunities = d3.map(data, function(d){return(d)})
          console.log(allCommunities);

          // add the options to the button
          d3.select("#selectButton")
            .selectAll('Communities')
            .data(allCommunities)
            .enter()
            .append('option')
            .text(function (d) { return d; }) // text showed in the menu
            .attr("value", function (d) { return d; }) // corresponding value returned by the button
        })


      function updateNetwork(selectedCommunity) {
        
        var simulation = d3.forceSimulation()
          .nodes(data.nodes);
        simulation
          .force("charge_force", d3.forceManyBody()
            .strength(-50))
          .force("center_force", d3.forceCenter(width / 2, height / 2))
          .force('collide', d3.forceCollide()
            .radius(20)
            .iterations(1)
          )



      }


  
    </script>
</body>
